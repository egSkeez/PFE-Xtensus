<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
		"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:c="http://java.sun.com/jsp/jstl/core"

	  xmlns:p="http://primefaces.org/ui">
<ui:composition template="/WEB-INF/jsp/layout_admin.xhtml">
<ui:define name="content">

	<h:form enctype="multipart/form-data" id="uploadform">
		<p:commandButton id="btn" value="Logout" action="#{personneController.doLogout}" />
		<p:fileUpload value="#{personneController.file}" mode="simple" skinSimple="true"/>
		<p:commandButton value="Submit" ajax="false" action="#{personneController.uploadFile}"
						 disabled="false" />



			<div class="main-card mb-3 card">
				<div class="card-body"><h5 class="card-title">My Documents</h5>
					<table class="mb-0 table table-hover">
						<thead>
						<tr>
							<th>#</th>
							<th>First Name</th>
							<th>Last Name</th>
							<th>Username</th>
							<th>Details</th>
						</tr>
						</thead>
						<tbody>
						<c:forEach var="document" items="#{personneController.docs}">
							<tr>
								<th scope="row">
									<h:outputText value="#{document.alfrescoId}" />
								</th>
								<td>test</td>
								<td>test</td>
								<td>test</td>
								<td>
									<p:commandButton value="Delete" action="#{personneController.docDetails(document)}" update="message" />
								</td>
							</tr>
						</c:forEach>


						</tbody>
					</table>
				</div>
			</div>




		<p:panel header="My ">



			<p:dataTable id="table1" var="doc" value="#{personneController.docInbox}"
						 selectionMode="multiple"
						 selection="#{personneController.selectedInbox}"
						 rowKey="#{doc.alfrescoId}" >

				<p:column>
					<f:facet name="header">Alfresco ID</f:facet>
					<h:outputText value="#{doc.alfrescoId}" />
				</p:column>
				<p:column>
					<f:facet name="header">Name</f:facet>
					<h:outputText value="#{doc.nom}"/>

				</p:column>

			</p:dataTable>


			<p:selectManyCheckbox id="basic" value="#{personneController.selectedRights}">
				<f:selectItem itemLabel="Read" itemValue="read" />
				<f:selectItem itemLabel="Write" itemValue="write" />
				<f:selectItem itemLabel="All" itemValue="all" />
				<f:selectItem itemLabel="Middle man" itemValue="middle man" />
			</p:selectManyCheckbox>
			<p:separator />
			<p:growl id="message" showDetail="true" />
			<p:commandButton value="Delete" action="#{personneController.delete}" update="message" >
			<p:confirm header="Confirmation" message="Are you sure?" icon="pi pi-exclamation-triangle" />
			</p:commandButton>
			<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
				<p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="pi pi-check" />
				<p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="pi pi-times" />
			</p:confirmDialog>
			<p:commandButton value="Download" action="#{personneController.downloadDocument}" icon="pi pi-arrow-down" onclick="PF('dlg1').show();">
		</p:commandButton>
			<p:dialog header="Download" widgetVar="dlg1" minHeight="40">
				<h:outputText value="Download complete !" />
			</p:dialog>
	</p:panel>


		<p:dataTable var="personne" value="#{personneController.people}" widgetVar="peopleTable"
					 emptyMessage="None found with given criteria"
					 filteredValue="#{personneController.filteredPeople}"
					 selectionMode="multiple"
					 selection="#{personneController.recievers}"
					 rowKey="#{personne.id}" >
			<p:column headerText="Id" style="width:20px;">
				<h:outputText value="#{personne.id}" />
			</p:column>
			<p:column filterBy="#{personne.nom}"
					  headerText="Name"
					  filterMatchMode="contains"
					  placeholder="Name">
				<h:outputText value="#{personne.nom}" />
			</p:column>

			<p:column headerText="Last Name" >
				<h:outputText value="#{personne.prenom}" />
			</p:column>
		</p:dataTable>
		<p:commandButton value="Send" action="#{personneController.sendTo}" />
	</h:form>

</ui:define>
</ui:composition>

</html>
